# å®‰è£… Immich å¹¶å¼€å¯ç¡¬ä»¶åŠ é€Ÿ

ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘éƒ½ç”¨ç¾¤æ™–è‡ªå¸¦çš„ Photos æ¥å¤‡ä»½æ‰‹æœºç…§ç‰‡ï¼Œå› ä¸ºé™¤äº†ç¾¤æ™–ç›¸å†Œä¹‹å¤–ï¼Œå¾ˆå°‘æœ‰ä¸€æ¬¾ç›¸å†Œçš„åŠŸèƒ½å¼ºå¤§ï¼Œè€Œä¸”æœ‰æ–¹ä¾¿çš„æ‰‹æœºå®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ã€‚è€Œè¦ä½¿ç”¨ç¾¤æ™–ç›¸å†Œï¼Œå°±å¿…é¡»ç”¨ç¾¤æ™–çš„ç³»ç»Ÿï¼Œæˆ–è€…ç”¨ç™½ç¾¤æ™–ï¼Œæˆ–è€…å°±å¾—å¼€ä¸ªè™šæ‹Ÿæœºã€‚ç„¶è€Œæƒ³æƒ³ä¹Ÿå°±ä¸ºäº†å¤‡ä»½ä¸ªç›¸å†Œè€Œå·²ï¼Œè¿™ä¹ˆåšå®åœ¨å¤ªè¿‡ç¬¨æ‹™ã€‚

è€Œç°åœ¨ï¼Œ[immich](https://immich.app/) çš„å‡ºç°è®©æˆ‘ç»ˆäºæœ‰äº†æ”¾å¼ƒç¾¤æ™–ç›¸å†Œçš„æƒ³æ³•ã€‚è·Ÿç€å®˜æ–¹æ•™ç¨‹ï¼Œä¸€æ¬¡å°±éƒ¨ç½²æˆåŠŸäº†ï¼Œæ²¡é‡åˆ°ä»€ä¹ˆå‘ï¼ŒApp ä¹Ÿå¾ˆå¥½ç”¨ã€‚[immich](https://immich.app/) è¿™ä¸ªé¡¹ç›®å¾ˆæ´»è·ƒï¼Œç‰ˆæœ¬æ›´æ–°é¢‘ç¹ï¼Œä»¥è‡³äºå®˜æ–¹åœ¨æ–‡æ¡£çš„æ˜¾è‘—ä½ç½®æ”¾äº†ä¸€å¥æç¤ºï¼šâ€œâš ï¸ The project is under very active development. Expect bugs and changes. Do not use it as the only way to store your photos and videos!â€ã€‚ğŸ˜‚

ä¸‹é¢è¿™æ˜¯ [immich](https://immich.app/) çš„ [Roadmap](https://github.com/orgs/immich-app/projects/1/views/1)ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¾ˆå¤šåŠŸèƒ½å’Œ bug éƒ½åœ¨è®¡åˆ’ä¹‹ä¸­ã€‚

![L1WOp7_nhJbBF](https://img-1255332810.cos.ap-chengdu.myqcloud.com/L1WOp7_nhJbBF.png)

## å¦‚ä½•éƒ¨ç½²ï¼Ÿ

å¦‚æœä½ å¯ä»¥çœ‹æ‡‚ä¸€äº›è‹±æ–‡ï¼Œç›´æ¥è·Ÿç€ [å®˜æ–¹æ–‡æ¡£](https://immich.app/docs/install/unraid) èµ°ä¸€éï¼Œåº”è¯¥ä¹Ÿä¸ä¼šé‡åˆ°ä»€ä¹ˆå‘ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿéå¸¸è¯¦ç»†ï¼Œè¯¥å¡«çš„é…ç½®æ–‡ä»¶éƒ½å¯ä»¥ç›´æ¥ç²˜è´´ã€‚æˆ‘æ˜¯åœ¨ Unraid è¿™ä¸ª NAS å¹³å°ä¸Šéƒ¨ç½² immich çš„ï¼Œæ‰€ä»¥æœ¬ç¯‡æ•™ç¨‹æˆ‘ä¹Ÿåªè®²å¦‚ä½•åœ¨ Unraid ä¸Šéƒ¨ç½²ä½¿ç”¨ã€‚è™½ç„¶è·Ÿç€å®˜æ–¹æ–‡æ¡£éƒ¨ç½²ä¹Ÿä¸éš¾ï¼Œä½†å¯¹äºåˆšæ¥è§¦ Unraid çš„å°ç™½æ¥è¯´ï¼Œä¾ç„¶å¯èƒ½é‡åˆ°å¾ˆå¤šå‘ã€‚ä¸‹é¢è¿™äº›æ­¥éª¤æ˜¯ä¸ºå°ç™½å‡†å¤‡çš„ï¼Œä¸ºäº†å°½å¯èƒ½è®©å°ç™½ä¹Ÿä¸€æ¬¡æˆåŠŸï¼Œæˆ‘ä¼šæŠŠæ‰€æœ‰è¯¦ç»†æ­¥éª¤éƒ½è®²æ¸…æ¥šã€‚

### å‡†å¤‡

- éœ€è¦å»ºä¸€ä¸ªç…§ç‰‡å­˜å‚¨ç›®å½•ï¼Œç”¨æ¥ä¿å­˜ä½ æ‰‹æœºä¸Šçš„ç…§ç‰‡å’Œè§†é¢‘ã€‚æ¯”å¦‚åœ¨ Unraid çš„å…±äº«é‡Œå»ºç«‹ä¸€ä¸ªåä¸º `photos` çš„å…±äº«ç›®å½•ã€‚

![IqS9vw_bwxw78](https://img-1255332810.cos.ap-chengdu.myqcloud.com/IqS9vw_bwxw78.jpg)

- å®‰è£… `Docker Compose Manager` æ’ä»¶ã€‚å®‰è£… immich ä½¿ç”¨ `Docker Compose Manager` æ¯”è¾ƒæ–¹ä¾¿ï¼Œåœ¨åº”ç”¨ä¸­å¿ƒæœç´¢å®‰è£…å³å¯ã€‚

![AlK5M0_qlzzvl](https://img-1255332810.cos.ap-chengdu.myqcloud.com/AlK5M0_qlzzvl.png)

> ä»€ä¹ˆæ˜¯ `Docker Compose`ï¼Ÿç®€å•ç†è§£ï¼ŒDocker Compose å°±æ˜¯ä¸€ç»„å¤æ‚çš„ Docker å®¹å™¨é›†åˆï¼Œé€šè¿‡ä¸€ä¸ª docker-compose æ–‡ä»¶æ¥æè¿°å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚å¯¹äºæˆ‘ä»¬ç”¨æˆ·æ¥è¯´ï¼Œåªè¦èƒ½æ‰¾åˆ°è¿™ä¸ªåº”ç”¨çš„ docker-compose æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½è½»æ¾çš„è®©è¿™ä¸ªå¤æ‚çš„åº”ç”¨è¿è¡Œèµ·æ¥ï¼Œä¸ç”¨å»å…³å¿ƒå®ƒä»¬ä¹‹é—´çš„å…³ç³»æ˜¯æ€æ ·çš„ã€‚éœ€è¦å¯åŠ¨çš„æ—¶å€™ï¼Œç›´æ¥å¯åŠ¨è¿™ä¸ª compose å°±å¯ä»¥ã€‚

### éƒ¨ç½²

åœ¨å®‰è£…æˆåŠŸ Docker Compose æ’ä»¶ä¹‹åï¼Œåœ¨ Docker é€‰é¡¹å¡æœ€ä¸‹æ–¹ï¼Œä¼šæœ‰ä¸€ä¸ª `ADD NEW STACK` çš„æŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæç¤ºè¾“å…¥åç§°ï¼Œæˆ‘ä»¬å¡«å†™ `Immich`ã€‚å¡«å®Œä¹‹åç‚¹å‡» `OK`ã€‚

å»ºå¥½ä¹‹åï¼Œæˆ‘ä»¬ç‚¹å‡»åç§°ï¼Œä¼šå¼¹å‡ºæç¤ºï¼Œæˆ‘ä»¬å†ç‚¹å‡» `EDIT STACK`ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šå¡«å†™ `COMPOSE FILE` ä»¥åŠ `ENV FILE`ã€‚

![gnpiY7_Gl0LZR](https://img-1255332810.cos.ap-chengdu.myqcloud.com/gnpiY7_Gl0LZR.png)

![xj40ii_anzJus](https://img-1255332810.cos.ap-chengdu.myqcloud.com/xj40ii_anzJus.png)

ç‚¹å‡» `COMPOSE FILE`ï¼Œå°†å®˜æ–¹æä¾›çš„ [Compose File](https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml) å…¨éƒ¨é€‰ä¸­ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´åˆ°é…ç½®æ–‡æœ¬æ¡†é‡Œï¼Œç„¶åç‚¹å‡» `SAVE CHANGES`ã€‚

![zje0ia4u.in3_DMqWhX](https://img-1255332810.cos.ap-chengdu.myqcloud.com/zje0ia4u.in3_DMqWhX.png)

å†ç‚¹å‡» `ENV FILE`ï¼Œå°†å®˜æ–¹æä¾›çš„ [Env File](https://github.com/immich-app/immich/releases/latest/download/example.env) å…¨éƒ¨é€‰ä¸­ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´åˆ°é…ç½®æ–‡ä»¶é‡Œã€‚

æ¥ç€ä¿®æ”¹ä¸Šä¼ è·¯å¾„ `UPLOAD_LOCATION`ã€‚æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰å»ºç«‹çš„å…±äº«æ–‡ä»¶å¤¹ `photos` çš„ä¸Šä¼ è·¯å¾„å°±æ˜¯ `/mnt/user/photos`ã€‚

![5azpnm4t.jez_6h9Vyo](https://img-1255332810.cos.ap-chengdu.myqcloud.com/5azpnm4t.jez_6h9Vyo.png)

åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬çš„é…ç½®å°±æ”¹å¥½äº†ï¼Œç‚¹å‡» `SAVE CHANGES` ä¿å­˜æ›´æ”¹ã€‚

æ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥ç‚¹å‡» `COMPOSE UP` æ¥å¯åŠ¨å®¹å™¨äº†ã€‚

![oCmpxh_V0AoQS](https://img-1255332810.cos.ap-chengdu.myqcloud.com/oCmpxh_V0AoQS.png)
è¿‡ä¸€ä¼šï¼Œç­‰å¾…å®¹å™¨å¯åŠ¨å®Œæˆï¼Œå°±å¯ä»¥åœ¨ Docker åˆ—è¡¨çœ‹åˆ°ä¸€å †æ–°çš„ docker å®¹å™¨äº†ã€‚çœ‹åˆ° `2283` è¿™ä¸ªé»˜è®¤çš„ç«¯å£ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰“å¼€æµè§ˆå™¨è¾“å…¥ `NAS IP:2283` è®¿é—® immich äº†ã€‚

![E7hI72_SIJF2t](https://img-1255332810.cos.ap-chengdu.myqcloud.com/E7hI72_SIJF2t.png)

immich è¿™ä¸ªåº”ç”¨çš„å¯åŠ¨å’Œåœæ­¢ï¼Œå¯ä»¥é€šè¿‡æ§åˆ¶æœ€ä¸‹æ–¹çš„ docker compose æ¥å®ç°ã€‚

![LTasjz_pzX2uv](https://img-1255332810.cos.ap-chengdu.myqcloud.com/LTasjz_pzX2uv.png)

## å®¢æˆ·ç«¯

[immich](https://immich.app/) æ”¯æŒ iOS å’Œ Android å®¢æˆ·ç«¯ï¼Œè€Œä¸”åŠŸèƒ½éå¸¸å®Œå–„ï¼Œå¤‡ä»½åŠŸèƒ½éå¸¸å¥½ç”¨ã€‚Immich ä¹Ÿæœ‰ç½‘é¡µç‰ˆã€‚

## è®¾ç½®ä¸­æ–‡

ç›®å‰ï¼Œæœ€æ–°ç‰ˆçš„ `immich` Web ç«¯å·²æ”¯æŒä¸­æ–‡ï¼Œç™»å½• Web ç‰ˆåå°ï¼Œç‚¹å‡»è‡ªå·±çš„å¤´åƒï¼Œåœ¨ `Account Setting` -> `App Setting` -> `Language` ä¸­å¯ä»¥æ‰¾åˆ° `Chinese(Simplified)` é€‰é¡¹ï¼Œç‚¹å‡»å°±å¯ä»¥åˆ‡æ¢ã€‚

## æœºå™¨å­¦ä¹ 

ç¾¤æ™–çš„ Photos æ”¯æŒäººè„¸è¯†åˆ«ã€‚åœ¨ immich çš„ç½‘é¡µç‰ˆä¸­ï¼Œä¹Ÿæœ‰æœºå™¨å­¦ä¹ çš„é€‰é¡¹ï¼Œæ”¯æŒç…§ç‰‡åˆ†ç±»ã€‚

![qHpbnv_a8CXhH](https://img-1255332810.cos.ap-chengdu.myqcloud.com/qHpbnv_a8CXhH.png)

## ç¡¬ä»¶åŠ é€Ÿï¼ˆå¯é€‰ï¼‰

æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„æç¤ºï¼Œç›®å‰ç¡¬ä»¶åŠ é€ŸåŠŸèƒ½è¿˜å¤„äº [å®éªŒæ€§é˜¶æ®µ](https://immich.app/docs/features/hardware-transcoding)ï¼Œå› æ­¤è¿™ä¸ªåŠŸèƒ½æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä½ æœ‰éœ€è¦ï¼Œå¯ä»¥å¼€å¯è¯•è¯•ã€‚è¿™é‡Œä»…ä»‹ç» Intel å¸¦æ ¸æ˜¾çš„ CPU å¦‚ä½•è®¾ç½®ï¼Œå…¶å®ƒå¹³å°å¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ã€‚

ä¸ºäº†æ”¯æŒ VP9ï¼Œä½ ä½¿ç”¨çš„ CPU åº”è¯¥è‡³å°‘æ˜¯ Intel 9 ä»£æˆ–è€…ä»¥åçš„æ–°å¹³å°ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ç¬¬ 11 ä»£æˆ–è€…ä¹‹å‰çš„å¹³å°ï¼Œè¿˜éœ€è¦æŒ‰è¿™é‡Œçš„ [æ–‡æ¡£è¯´æ˜](https://jellyfin.org/docs/general/administration/hardware-acceleration/intel/#configure-and-verify-lp-mode-on-linux) å¼€å¯ä½ç”µå‹æ¨¡å¼ã€‚æ€»ä¹‹ï¼Œè¿™é‡Œçš„è®¾ç½®å’Œå¼€å¯ Jellyfin ç¡¬è§£æ˜¯ä¸€æ ·çš„ï¼Œåªè¦ä½ èƒ½ç¡®å®š Jellyfin å¯ä»¥ç¡¬è§£ï¼Œé‚£å°± OKã€‚

### è®¾ç½®ç¡¬ä»¶åŠ é€Ÿ

ä¿®æ”¹ Immich çš„ `COMPOSE FILE`ï¼Œåœ¨ `immich-microservices:` ä¸­åŠ å…¥ä¸‹é¢è¿™æ®µé…ç½®å¼€å¯ QSVï¼š

```yml
devices:
  - /dev/dri:/dev/dri
```

ä¿®æ”¹ä¹‹ååº”è¯¥æ˜¯è¿™æ ·ï¼š

![lhcnczxp.3o2_khvpiN](https://img-1255332810.cos.ap-chengdu.myqcloud.com/lhcnczxp.3o2_khvpiN.png)

ä¿å­˜åï¼Œç‚¹å‡»æ›´æ–° `UPDATE STACK`ã€‚ä¹‹ååœ¨ Web æ§åˆ¶å°é‡Œä¾æ¬¡ç‚¹å‡» `Administration -> Setting -> Video Transcoding Settings -> Hardware Acceleration`ï¼Œå°† `ACCELERATION API` åˆ‡æ¢ä¸º `Quick Sync` å¹¶ä¿å­˜ã€‚

![2jmo5k21.lt3_M1Mwo4](https://img-1255332810.cos.ap-chengdu.myqcloud.com/2jmo5k21.lt3_M1Mwo4.png)