# ä½é—¨æ§›ã€æ˜“ä¸Šæ‰‹çš„è‡ªåŠ¨åŒ–è§‚å½±æ–¹æ¡ˆ

:::warning é‡è¦æç¤º
ç”±äº [é¡¹ç›®ä»‹ç»é¡µé¢](https://www.bilibili.com/read/cv35942028/?jump_opus=1) å·²ç»è¢«åˆ é™¤ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯ä½œè€…å·²ç»å¼ƒå‘äº† ğŸ˜‚ï¼Œæ‰€ä»¥ `douban-tool` å·²ç»æ²¡å¿…è¦æŠ˜è…¾äº†ã€‚
<!-- æœ€è¿‘ `BTNULL` æ›´æ¢äº†åŸŸåï¼Œç”±äº `douban-tool` ä¾èµ– `BTNULL` ç½‘ç«™åŒ¹é…èµ„æºï¼Œæ‰€ä»¥åªæœ‰ç­‰å¾… `douban-tool` é•œåƒæ›´æ–°åæ‰å¯ä»¥ç»§ç»­ç”¨ã€‚ -->
:::

![Snipaste_2024-07-25_13-13-51_L15NtG](https://img.slarker.me/wiki/Snipaste_2024-07-25_13-13-51_L15NtG.jpg)

è§‚å½±æ˜¯å¾ˆå¤š NAS ç”¨æˆ·çš„åˆšéœ€ï¼Œä¼ ç»Ÿçš„æ–¹æ¡ˆæ˜¯å…ˆæœç´¢ BT èµ„æºé“¾æ¥ï¼Œä½¿ç”¨ BT å·¥å…·ä¸‹è½½ï¼Œç„¶åé€šè¿‡å„ç§æ’­æ”¾è½¯ä»¶ç›´æ¥æ‰“å¼€æ’­æ”¾ã€‚è¿™ä¸¤å¹´æµè¡Œçš„å°é›…ä¸»è¦æ˜¯åŸºäºé˜¿é‡Œäº‘ç›˜çš„èµ„æºï¼Œä½†æœ€è¿‘ä¹Ÿå› ä¸ºé˜¿é‡Œäº‘ç›˜æ”¿ç­–çš„æ”¶ç´§ä¹Ÿå˜å¾—ä¸å¯ç”¨äº†ï¼Œå¦‚æœä¸å……å€¼ç¬¬ä¸‰æ–¹æƒç›ŠåŒ…çš„è¯é€Ÿåº¦ä¹Ÿä¼šå¾ˆæ…¢ã€‚å¾ˆå¤šäººç”¨çš„ MoviePilotï¼ŒNAStool éœ€è¦ä¾èµ–äº PT ç«™ç‚¹çš„èµ„æºï¼Œç© PT å¯¹å¤§éƒ¨åˆ†äººæ¥è¯´ï¼Œé—¨æ§›ä¹Ÿæ¯”è¾ƒé«˜ã€‚

æœ€è¿‘åˆå‡ºç°äº†ä¸€ä¸ªæ–°çš„è‡ªåŠ¨åŒ–è§‚å½±æ–¹æ¡ˆ `douban-tool`ï¼Œå¯ä»¥é€šè¿‡è±†ç“£æ ‡è®°æƒ³çœ‹çš„èµ„æºï¼Œé€šè¿‡ NAS ä¸Šçš„ BT ä¸‹è½½è½¯ä»¶è‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„èµ„æºåˆ°ç¡¬ç›˜é‡Œï¼Œç›¸æ¯”åŸºäº PT çš„æ–¹æ¡ˆï¼Œå¯ä»¥è¯´æ˜¯é—¨æ§›é™ä½äº†ä¸å°‘ï¼Œè€Œä¸”é…ç½®ä¹Ÿå¾ˆç®€å•ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ `douban-tool`ã€‚

## æ³¨æ„äº‹é¡¹

- `douban-tool` é»˜è®¤çš„ web ç«¯å£æ˜¯ 5000ï¼Œç»è¿‡æˆ‘åœ¨ Unraid ä¸Šé¢çš„æµ‹è¯•ï¼Œå¦‚æœæ”¹æˆå…¶å®ƒç«¯å£ï¼Œå¯èƒ½ä¼šå‡ºç°æ— æ³•è®¿é—®çš„æƒ…å†µï¼Œæ‰€ä»¥æ¨èä½¿ç”¨é»˜è®¤çš„ 5000 ç«¯å£ï¼Œå¦‚æœæœ‰å…¶å®ƒåº”ç”¨å·²ç»å ç”¨äº† 5000 ç«¯å£ï¼Œå¯ä»¥æŠŠè¯¥åº”ç”¨æ”¹æˆåˆ«çš„ç«¯å£ã€‚
- è¿™ä¸ªæ–¹æ¡ˆæ˜¯åŸºäº BT ä¸‹è½½èµ„æºï¼Œä¸‹è½½é€Ÿåº¦è¦çœ‹è¯¥èµ„æºæ˜¯å¦çƒ­é—¨ã€‚èµ„æºçƒ­é—¨ï¼ŒBT åŒæ—¶ä¸‹è½½äººæ•°è¶Šå¤šï¼Œä¸‹è½½å°±å¿«ã€‚åä¹‹èµ„æºè¶Šå†·é—¨ï¼ŒBT åŒæ—¶ä¸‹è½½äººæ•°å°±è¶Šå°‘ï¼Œä¸‹è½½å°±æ…¢ã€‚
- ä½¿ç”¨ `qBittorrent` ä½œä¸ºä¸‹è½½å·¥å…·ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ  `tracker` æ¥è¿æ¥æ›´å¤šçš„ä¸‹è½½ç”¨æˆ·ï¼Œæé«˜ä¸‹è½½é€Ÿåº¦ã€‚
- è¿™ä¸ªæ–¹æ¡ˆçš„åŸç†æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´å»æ£€æŸ¥è±†ç“£æ ‡è®°ï¼ˆå»ºè®®æ˜¯é—´éš” 2 ä¸ªå°æ—¶ä»¥ä¸Šï¼‰ï¼Œé¿å…è¢«è±†ç“£é£æ§ï¼Œæ‰€ä»¥æ ‡è®°åä¸ä¸€å®šä¼šç«‹å³ä¸‹è½½ï¼Œéœ€è¦ç­‰ä¸€æ®µæ—¶é—´ã€‚

## å‡†å¤‡å·¥ä½œ

`douban-tool` å®ç°çš„ä¸»è¦åŠŸèƒ½ä¸ºè·å–è±†ç“£æ ‡è®°ï¼Œé€šè¿‡ [BTNULL](https://www.btnull.org/) è¿™ä¸ªç½‘ç«™åŒ¹é…ç›¸åº”çš„ BT èµ„æºï¼Œç„¶åè°ƒç”¨ BT å·¥å…·èµ„æºä¸‹è½½åˆ°æœ¬åœ°å¹¶ä½¿ç”¨ `TMDB API` æ¥å®ç°åˆ®å‰Šã€‚

éœ€è¦æå‰æ³¨å†Œå¥½ [BTNULL](https://www.btnull.org/) å’Œ [TMDB](https://www.themoviedb.org/) è´¦å·ã€‚

æ•´ä¸ªæµç¨‹æ¯”è¾ƒæ¸…æ™°ç®€å•ï¼Œæ­¥éª¤ä¹Ÿä¸å¤æ‚ï¼Œæ¶‰åŠåˆ°çš„ docker ä¹Ÿåªæœ‰ 2 ä¸ªï¼Œåˆ†åˆ«æ˜¯ `douban-tool` å’Œ `qBittorrent` æˆ–è€… `è¿…é›·`ï¼Œæœ¬ç¯‡æ•™ç¨‹ä»¥ `qBittorrent` ä¸ºä¾‹ä½œä¸ºä»‹ç»ï¼Œè¿…é›·è®¾ç½®æ–¹æ³•å¯ä»¥å‚è€ƒ [è¿™é‡Œ](https://www.bilibili.com/read/cv35942028/?jump_opus=1)ã€‚

`douban-tool` çš„èµ„æºç›®å½•å’Œ `qBittorrent` çš„ä¸‹è½½ç›®å½•ï¼Œéœ€è¦ä¿æŒä¸€è‡´ã€‚

å¦‚æœéœ€è¦ä½¿ç”¨ `Emby` æˆ–è€… `Jellyfin` ç­‰å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ docker å•ç‹¬å®‰è£…ï¼Œå°† BT çš„ä¸‹è½½ç›®å½•æŒ‚è½½åˆ° `Emby` æˆ–è€… `Jellyfin` ä¸­ã€‚

## å®‰è£… douban-tool

### Unraid 

Unraid å¯ä»¥é€šè¿‡æ¨¡æ¿å®‰è£… `douban-tool` å’Œ `qBittorrent`ï¼Œå…·ä½“å¯ä»¥çœ‹ [é€šè¿‡æ¨¡æ¿æ›´æ–° Docker åº”ç”¨](/unraid/unraid_docker_template.md)ã€‚

![5vwApf_8Y84zi](https://img.slarker.me/wiki/5vwApf_8Y84zi.png)

### ç¾¤æ™–

ç¾¤æ™–å¯ä»¥åœ¨ `Container Manager` ä¸­å®‰è£… `douban-tool`ï¼Œåœ¨æ³¨å†Œè¡¨ä¸­æœç´¢ `douban-tool`ï¼Œä¸‹è½½é•œåƒåè¿è¡Œã€‚

æŒ‰å›¾ä¸­æ‰€ç¤ºæ˜ å°„ç«¯å£å·ã€æ–‡ä»¶å¤¹ï¼ˆå·¦ä¾§ä¸º `ä¸»æœº`ï¼Œå³ä¾§ä¸º `å®¹å™¨`ï¼‰ï¼š

- `5002` -> `5000`ï¼Œä¸ºé¿å…å’Œç¾¤æ™–é»˜è®¤ç«¯å£å†²çªï¼Œä¸»æœºç«¯å£å¯ä»¥æ”¹æˆ `5002` æˆ–è€…å…¶å®ƒç«¯å£
- `/docker/douban-tool/config` -> `/app/config`
- `/docker/douban-tool/data` -> `/app/data`
- `/downloads` -> `/downloads`

![z35vukbq.zzt_gnMolb](https://img.slarker.me/wiki/z35vukbq.zzt_gnMolb.png)

è®¾ç½®å¥½ä¹‹åï¼Œä¸€è·¯ä¸‹ä¸€æ­¥ï¼Œå°±å¯ä»¥å®Œæˆäº†ã€‚

### fnOS

é¦–å…ˆæŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºå»ºå¥½æ–‡ä»¶å¤¹ï¼š

![](https://img.slarker.me/wiki/202409110032422.png)

[ä½¿ç”¨ SSH ç™»å½•](/fnos/ssh.md) fnOSï¼Œå¹¶åˆ‡æ¢åˆ° `root` ç”¨æˆ·ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åˆ›å»º `douban-tool` å®¹å™¨ï¼š

```sh
docker run -d \
  --name douban-tool \
  --restart=always \
  --net=bridge \
  -p 5000:5000 \
  -v /vol1/1000/docker/douban-tool/data:/app/data \
  -v /vol1/1000/docker/douban-tool/config:/app/config \
  -v /vol1/1000/downloads:/downloads \
  zack357/douban-tool:latest
```

## è®¾ç½® douban-tool

æ‰“å¼€ `douban-tool` çš„ web é¡µé¢ï¼ˆUnraid æ¨¡æ¿é»˜è®¤ç«¯å£ï¼š`5000`ï¼Œç¾¤æ™–é»˜è®¤ç«¯å£ï¼š`5002`ï¼‰ï¼ŒæŒ‰ç…§ä¸‹å›¾è¿›è¡Œè®¾ç½®ï¼š

- è±†ç“£ id å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ä½ çš„ [è±†ç“£](https://www.douban.com/) ä¸ªäººä¸»é¡µï¼Œæµè§ˆå™¨åœ°å€æ  `people` åé¢çš„ä¸€ä¸² `æ•°å­—`ï¼ˆä¸åŒ…å« `/`ï¼‰å°±æ˜¯ä½ çš„è±†ç“£ IDã€‚
- Sleep Intervalï¼šè®¾ç½®æ£€æŸ¥è±†ç“£æ ‡è®°çš„é—´éš”æ—¶é—´ï¼Œé»˜è®¤ä¸º `2` å°æ—¶ï¼Œé—´éš”è¿‡çŸ­å¯èƒ½å¯¼è‡´è´¦å·è¢«é£æ§ï¼Œå»ºè®®ä¿æŒé»˜è®¤ã€‚
- Junk File Sizeï¼šè¿‡æ»¤æ‰å°äºå¤šå°‘ `MB` çš„æ–‡ä»¶ï¼Œå¯ä»¥é¿å…ä¸‹è½½ä½è´¨é‡æˆ–è€…ä¼¼æ˜¯è€Œéæˆ–è€…çš„åƒåœ¾èµ„æºã€‚
- TMDB API Keyï¼šå¦‚æœéœ€è¦åˆ®å‰Šï¼Œå¯ä»¥ [è·å– TMDB API Key](https://www.themoviedb.org/settings/api)ï¼Œç”¨äºè·å–ç”µå½±å’Œç”µè§†å‰§çš„è¯¦ç»†ä¿¡æ¯ã€‚

![Snipaste_2024-07-25_16-33-44_Q263xo](https://img.slarker.me/wiki/Snipaste_2024-07-25_16-33-44_Q263xo.png)

![Snipaste_2024-07-25_16-54-57_FmOZH5](https://img.slarker.me/wiki/Snipaste_2024-07-25_16-54-57_FmOZH5.png)

å¡«å†™å®Œæˆä¹‹åï¼Œç‚¹å‡» `Save` ä¿å­˜ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å…ˆåˆ°è±†ç“£æ ‡è®°å‡ ä¸ªæƒ³çœ‹çš„ç”µå½±ï¼Œé‡å¯ `douban-tool` å®¹å™¨å°±ä¼šè‡ªåŠ¨è°ƒç”¨ `qBittorrent` ä¸‹è½½ã€‚

![Snipaste_2024-07-25_12-51-09_QsX1Qj](https://img.slarker.me/wiki/Snipaste_2024-07-25_12-51-09_QsX1Qj.png)

## è®¾ç½® qBittorrent tracker

ä¸ºäº†è®© `qBittorrent` èƒ½è¿æ¥åˆ°æ›´å¤šçš„ç”¨æˆ·ï¼Œå¯ä»¥æ·»åŠ  tracker åœ°å€ï¼Œå…·ä½“åœ°å€å¯ä»¥åˆ°ä¸‹é¢è¿™å‡ ä¸ªç½‘ç«™è·å–ï¼š

- https://dns.icoa.cn/tracker/
- https://trackerslist.com/#/zh

åœ¨ `qBittorrent` çš„è®¾ç½®ä¸­ï¼Œæ‰¾åˆ° `BitTorrent`ï¼Œå¯ä»¥åœ¨æœ€ä¸‹æ–¹çœ‹åˆ° `è‡ªåŠ¨å°†è¿™äº› tracker æ·»åŠ åˆ°æ–°ä¸‹è½½`ï¼Œå‹¾é€‰å¯ç”¨å¹¶åŠ å…¥ `tracker åœ°å€` åç‚¹å‡»ä¿å­˜ã€‚

![7NQJZe_Y327ci](https://img.slarker.me/wiki/7NQJZe_Y327ci.png)

## ä½¿ç”¨è¿…é›·ä½œä¸ºä¸‹è½½å·¥å…·

å¦‚æœä½ æœ‰è¿…é›·ä¼šå‘˜ï¼Œæƒ³è®©è¿…é›·ä½œä¸º `douban-tool` çš„é»˜è®¤ä¸‹è½½å·¥å…·ï¼Œå¯ä»¥å‚ç…§ä¸‹é¢è¿›è¡Œè®¾ç½®ã€‚æ¨èä½¿ç”¨ docker ç‰ˆçš„è¿…é›·ï¼Œæ³¨æ„è¿…é›·çš„ä¸‹è½½ç›®å½•éœ€è¦å’Œ `douban-tool` ä¿æŒä¸€è‡´ã€‚

![5D2Vtt_pw7dLG](https://img.slarker.me/wiki/5D2Vtt_pw7dLG.png)

`Xunlei Device Name` åœ¨ç»‘å®šæ‰‹æœºè¿…é›· App åï¼Œå¯ä»¥åœ¨è¿œç¨‹è®¾å¤‡é‡Œçœ‹åˆ°ï¼Œè¿™é‡Œéœ€è¦å¡«å†™å®Œæ•´çš„è®¾å¤‡åç§°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![KWgyTV_XOapEc](https://img.slarker.me/wiki/KWgyTV_XOapEc.png)

## å¸¸è§é”™è¯¯æ’æŸ¥

å¯ä»¥æŸ¥çœ‹ `douban-tool` çš„æ—¥å¿—ï¼Œæ¥ç¡®è®¤æ˜¯å¦æ­£å¸¸ã€‚

![koapg4ho.g3a_7Sr6G5](https://img.slarker.me/wiki/koapg4ho.g3a_7Sr6G5.png)

å¦‚æœé‡åˆ°é”™è¯¯æç¤ºä¸æ˜ç™½å«ä¹‰ï¼Œå¯ä»¥åˆ° [è¿™ç¯‡æ–‡ç« ](https://www.bilibili.com/read/cv35942028/?jump_opus=1) æŸ¥çœ‹å…·ä½“é”™è¯¯åŸå› åŠè§£å†³æ–¹æ¡ˆï¼š