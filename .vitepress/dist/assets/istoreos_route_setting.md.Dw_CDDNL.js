import{_ as t,c as o,a2 as i,o as a}from"./chunks/framework.eme8ZeBJ.js";const h=JSON.parse('{"title":"iStoreOS 路由模式设置","description":"","frontmatter":{},"headers":[],"relativePath":"istoreos/route_setting.md","filePath":"istoreos/route_setting.md","lastUpdated":1739809974000}'),s={name:"istoreos/route_setting.md"};function r(c,e,p,d,l,n){return a(),o("div",null,e[0]||(e[0]=[i('<h1 id="istoreos-路由模式设置" tabindex="-1">iStoreOS 路由模式设置 <a class="header-anchor" href="#istoreos-路由模式设置" aria-label="Permalink to &quot;iStoreOS 路由模式设置&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">提示</p><ul><li>这里假设你已经完成了 iStoreOS 的安装（物理机/虚拟机），并且已经能够正常访问 iStoreOS 的控制台。</li><li>如果你想把 iStoreOS 设置为主路由，这里假设你已经直通了一个 PCIE 网卡设备，也就是这个 iStoreOS 一共有两个网卡（虚拟网卡 + PCIE 网卡设备）。</li></ul></div><p>iStoreOS 的默认用户名/密码：<code>root/password</code>。</p><h2 id="设置-istoreos-为主路由" tabindex="-1">设置 iStoreOS 为主路由 <a class="header-anchor" href="#设置-istoreos-为主路由" aria-label="Permalink to &quot;设置 iStoreOS 为主路由&quot;">​</a></h2><p>使用命令编辑 iStoreOS 网络配置文件：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/config/network</span></span></code></pre></div><p>输入 <code>i</code> 进入编辑模式，按下图所示修改，修改完成之后按 <code>ESC</code> 退出编辑，输入 <code>:wq</code> 保存并退出。</p><p>下面这张图展示了如何设置为主路由：</p><p><img src="https://img.slarker.me/wiki/Snipaste_2025-01-22_14-47-35.webp" alt=""></p><p>重启虚拟机之后，如果不出意外，iStoreOS 就可以作为主路由来用了。</p><p>设置为主路由之后，推荐使用下面的网络拓扑来规划你的网络：</p><p><img src="https://img.slarker.me/wiki/istoreos.drawio.webp" alt=""></p><h2 id="设置-istoreos-为旁路由" tabindex="-1">设置 iStoreOS 为旁路由 <a class="header-anchor" href="#设置-istoreos-为旁路由" aria-label="Permalink to &quot;设置 iStoreOS 为旁路由&quot;">​</a></h2><p>如果你的 iStoreOS 虚拟机只有一个网卡，那么 iStoreOS 在启动的时候会自动从主路由获取 IP，iStoreOS 官方已经支持使用网络向导来配置为旁路由，所以不需要通过命令来修改网络配置，非常方便。</p><p>iStoreOS 虚拟机启动后，直接到你的主路由中查找 iStoreOS 的 IP 地址，然后在浏览器中打开这个 IP 地址。</p><p><img src="https://img.slarker.me/wiki/9290b8f0f115411b9ad3bc64d8547c4c.webp" alt=""></p><p>登录后点击首页的 <code>网络向导</code>，点击 <code>配置为旁路由</code>。</p><p><img src="https://img.slarker.me/wiki/91eaaa3983d54718863a6b066bf2d5f0.webp" alt=""></p><p>点击 <code>自动配置</code>。</p><p><img src="https://img.slarker.me/wiki/af0a4c21344249e1ba2b955feeea252b.webp" alt=""></p><p>点击灰色的 <code>当前 IPV4 上游信息（点此刷新）</code>，会自动从主路由获取相关信息，之后点击 <code>自动填写</code>。</p><p><img src="https://img.slarker.me/wiki/64dc189c740643429d96f06cabbfa21f.webp" alt=""></p><p>确认 IP 地址，网关地址，DNS 服务器都正常，关闭 <code>提供 DHCPv4 服务</code>，打开 <code>开启 NAT</code>，点击 <code>保存配置</code>。</p><p><img src="https://img.slarker.me/wiki/996fd5f265c14649bd4d9f61020236b1.webp" alt=""></p><p>到这里就配置成功了，点击 <code>进入控制台</code>。</p><p><img src="https://img.slarker.me/wiki/0b9ea5d43fde42f4b2c05869f302d917.webp" alt=""></p><h3 id="使用旁路由" tabindex="-1">使用旁路由 <a class="header-anchor" href="#使用旁路由" aria-label="Permalink to &quot;使用旁路由&quot;">​</a></h3><p>上面创建的 iStoreOS 旁路由的 IP 为 <code>192.168.2.186</code>。以 fnOS 为例，设置 fnOS 通过旁路由上网。</p><p>在 fnOS 的 <code>网络设置</code> 中，手动设置 <code>IPv4</code> 为静态 IP，并将 <code>网关地址</code> 和 <code>DNS</code> 设置为 <code>旁路由的 IP</code>。</p><p><img src="https://img.slarker.me/wiki/1536e93bc814445bb9fcc05719cb1ff6.webp" alt=""></p>',30)]))}const m=t(s,[["render",r]]);export{h as __pageData,m as default};
