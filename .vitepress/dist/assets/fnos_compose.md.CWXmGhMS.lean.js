import{_ as e,c as o,a2 as d,o as l}from"./chunks/framework.eme8ZeBJ.js";const g=JSON.parse('{"title":"fnOS Compose 模板","description":"","frontmatter":{},"headers":[],"relativePath":"fnos/compose.md","filePath":"fnos/compose.md","lastUpdated":1729241297000}'),s={name:"fnos/compose.md"};function c(a,t,n,i,r,p){return l(),o("div",null,t[0]||(t[0]=[d('<h1 id="fnos-compose-模板" tabindex="-1">fnOS Compose 模板 <a class="header-anchor" href="#fnos-compose-模板" aria-label="Permalink to &quot;fnOS Compose 模板&quot;">​</a></h1><p><img src="https://img.slarker.me/wiki/d1f910c1b4c74765ba2754b10c8002e3.jpeg" alt=""></p><blockquote><p>Compose 是用于定义和运行多容器 Docker 应用程序的工具。通过 Compose，您可以使用 YML 文件来配置应用程序需要的所有服务。然后可以方便地从 YML 文件配置中创建并启动所有服务。</p></blockquote><p>fnOS 支持 Compose，很多通过自带的 docker GUI 无法配置的选项，都可以通过 Compose 使用 YML 配置文件来实现。而且 Compose 具有修改配置方便，方便备份，迁移等优点。</p><h2 id="compose-模板" tabindex="-1">Compose 模板 <a class="header-anchor" href="#compose-模板" aria-label="Permalink to &quot;Compose 模板&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">注意</p><p>下面所有 Compose 模板默认映射的文件夹路径都位于 <code>/vol1</code>，你需要根据自己的实际情况做出修改。</p></div><p>这里分享一些常用的 <a href="https://www.123pan.com/s/1JKMjv-ICao" target="_blank" rel="noreferrer">fnOS Compose 模板</a>，包含以下应用：</p><table tabindex="0"><thead><tr><th style="text-align:center;">名称</th><th style="text-align:center;">介绍</th><th style="text-align:center;">默认数据目录</th><th style="text-align:center;">默认 Web 端口</th></tr></thead><tbody><tr><td style="text-align:center;">115pc</td><td style="text-align:center;">115 网盘</td><td style="text-align:center;">/vol1/1000/downloads</td><td style="text-align:center;">11580</td></tr><tr><td style="text-align:center;">alist</td><td style="text-align:center;">挂载网盘</td><td style="text-align:center;">-</td><td style="text-align:center;">5244</td></tr><tr><td style="text-align:center;">baidudisk</td><td style="text-align:center;">百度网盘</td><td style="text-align:center;">/vol1/1000/downloads</td><td style="text-align:center;">5800</td></tr><tr><td style="text-align:center;">calibre-web</td><td style="text-align:center;">电子书库</td><td style="text-align:center;">/vol1/1000/books</td><td style="text-align:center;">8083</td></tr><tr><td style="text-align:center;">clouddrive</td><td style="text-align:center;">映射网盘到本地</td><td style="text-align:center;">/vol1/1000/clouddrive</td><td style="text-align:center;">19798</td></tr><tr><td style="text-align:center;">filebrowser</td><td style="text-align:center;">文件管理器</td><td style="text-align:center;">/vol1</td><td style="text-align:center;">6000</td></tr><tr><td style="text-align:center;">jellyfin</td><td style="text-align:center;">开源的影视媒体库</td><td style="text-align:center;">/vol1/1000/downloads</td><td style="text-align:center;">8096</td></tr><tr><td style="text-align:center;">immich</td><td style="text-align:center;">照片备份</td><td style="text-align:center;">/vol1/1000/photos</td><td style="text-align:center;">2283</td></tr><tr><td style="text-align:center;">metube</td><td style="text-align:center;">下载在线视频</td><td style="text-align:center;">/vol1/1000/downloads</td><td style="text-align:center;">8081</td></tr><tr><td style="text-align:center;">navidrome</td><td style="text-align:center;">音乐库</td><td style="text-align:center;">/vol1/1000/musics</td><td style="text-align:center;">4533</td></tr><tr><td style="text-align:center;">qbittorrent</td><td style="text-align:center;">BT、PT 下载客户端</td><td style="text-align:center;">/vol1/1000/downloads</td><td style="text-align:center;">8080</td></tr><tr><td style="text-align:center;">speedtest</td><td style="text-align:center;">网速测试</td><td style="text-align:center;">-</td><td style="text-align:center;">9000</td></tr><tr><td style="text-align:center;">syncthing</td><td style="text-align:center;">跨平台文件同步</td><td style="text-align:center;">/vol1/1000/syncthing</td><td style="text-align:center;">8384</td></tr><tr><td style="text-align:center;">xunlei</td><td style="text-align:center;">迅雷</td><td style="text-align:center;">/vol1/1000/downloads</td><td style="text-align:center;">2345</td></tr></tbody></table><h3 id="默认密码" tabindex="-1">默认密码 <a class="header-anchor" href="#默认密码" aria-label="Permalink to &quot;默认密码&quot;">​</a></h3><p>访问方式：<code>fnOS IP:默认 Web 端口</code>。</p><ul><li>alist、qbittorrent 默认密码可以到容器日志中查看。</li><li>filebrowser 默认用户名/密码：admin/admin。</li><li>calibre-web 默认用户名/密码：admin/admin123。</li><li>迅雷内测码：<code>我不是矿神IMNKS</code></li></ul><h2 id="如何使用" tabindex="-1">如何使用？ <a class="header-anchor" href="#如何使用" aria-label="Permalink to &quot;如何使用？&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">提示</p><p>建议 fnOS 中至少有一块 SSD 用来存储 docker 镜像和配置。第一次打开 docker 应用时，fnOS 会提示存储位置，可以将默认存储位置设置到这个 SSD 上，之后 docker 镜像就会保存到这块 SSD 里。</p><p>在系统自带的文件管理器中，切换到 <code>管理员视角</code>，在 SSD 的存储空间中就可以看到有个 <code>docker</code> 文件夹， 该文件夹就保存了 <code>docker</code> 镜像，运行环境，网络，插件等等。</p><p>需要注意的是，这个 <code>docker</code> 文件夹的位置位于存储空间根目录，和下面说的 <code>docker</code> 配置文件夹是两回事。比如选择了 docker 存储空间为 <code>/vol1</code>，那么该 docker 的文件夹路径为 <code>/vol1/docker</code>。</p><p><img src="https://img.slarker.me/wiki/b7f53b07cf85475086fe98213b4aa363.png" alt=""></p></div><p>在 SSD 的存储空间中，新建一个 <code>docker</code> 配置文件夹，该文件夹的位置应该为 <code>/vol1/1000/docker</code>，<code>1000</code> 表示当前的用户 ID，将上面的 Compose 文件夹中的所有文件上传到 <code>docker</code> 配置目录，应该像下面这样：</p><p><img src="https://img.slarker.me/wiki/1e5e847f1af14f93b5bd17ca9aedbea6.png" alt=""></p><p>然后在 docker 应用中，逐个新建 <code>Compose</code> 项目，选择 <code>/vol1/1000/docker</code> 下面对应的 Compose 配置文件夹，确认所需映射的路径没问题，就可以一键安装 <code>Compose</code> 应用了。比如，以新建 <code>alist</code> Compose 项目为例：</p><p>在 <code>docker</code> -&gt; <code>Compose</code> 中新增项目，项目名称输入 <code>alist</code>，路径选择 <code>/vol1/1000/docker/alist</code>，会自动提示 <code>使用现有的 docker-compose 配置来创建项目</code>，勾选 <code>创建项目后立即启动</code>，点击 <code>完成</code> 就会自动拉取相关 docker 镜像并启动项目。</p><p><img src="https://img.slarker.me/wiki/910ff73f8ac54ddbbd60b7047dc7b56e.png" alt=""></p><h2 id="如何修改-compose-配置" tabindex="-1">如何修改 Compose 配置？ <a class="header-anchor" href="#如何修改-compose-配置" aria-label="Permalink to &quot;如何修改 Compose 配置？&quot;">​</a></h2><p>后续如果需要修改 Compose 配置，并且让配置生效，请按下面的步骤来操作：</p><ul><li>停止 <code>Compose</code></li><li>修改 <code>yml</code> 配置</li><li>清除 <code>Compose</code></li><li>启动 <code>Compose</code></li></ul><h2 id="如何更新-compose-镜像" tabindex="-1">如何更新 Compose 镜像？ <a class="header-anchor" href="#如何更新-compose-镜像" aria-label="Permalink to &quot;如何更新 Compose 镜像？&quot;">​</a></h2><p>目前在 fnOS 的 docker GUI 还不支持直接更新镜像，不过相信后面会支持的，暂时的替代办法是通过 <code>SSH</code> 命令手动更新。</p><p>以更新 immich 为例，<a href="/fnos/ssh.html">使用 SSH 登录</a> fnOS，进入到 immich <code>docker-compose.yml</code> 配置文件所在目录。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /vol1/1000/docker/immich</span></span></code></pre></div><p>使用下面的命令更新 Compose 镜像：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span></code></pre></div><p>更新完成后，可以在 GUI 中点击 <code>清除</code>，然后再点击 <code>构建</code>。</p><p><img src="https://img.slarker.me/wiki/a76e77b20c2b4a26832339fcff3349fe.png" alt=""></p>',29)]))}const h=e(s,[["render",c]]);export{g as __pageData,h as default};
