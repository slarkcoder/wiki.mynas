import{_ as a,c,a2 as t,o as n}from"./chunks/framework.eme8ZeBJ.js";const g=JSON.parse('{"title":"开源免费的跨平台文件同步工具 - Syncthing","description":"","frontmatter":{},"headers":[],"relativePath":"fnos/syncthing.md","filePath":"fnos/syncthing.md","lastUpdated":1727429809000}'),r={name:"fnos/syncthing.md"};function i(o,e,d,p,s,l){return n(),c("div",null,e[0]||(e[0]=[t('<h1 id="开源免费的跨平台文件同步工具-syncthing" tabindex="-1">开源免费的跨平台文件同步工具 - <a href="https://syncthing.net/" target="_blank" rel="noreferrer">Syncthing</a> <a class="header-anchor" href="#开源免费的跨平台文件同步工具-syncthing" aria-label="Permalink to &quot;开源免费的跨平台文件同步工具 - [Syncthing](https://syncthing.net/)&quot;">​</a></h1><p><img src="https://img.slarker.me/wiki/e310d62f71fd4b8eaf65461e6e437fb9.png" alt=""></p><p>多设备同步文件可以说是 NAS 必备的一个功能，作为 24 小时开机的设备，通过 NAS 来同步文件，可以做到不管其他终端是否在线，也能实时保持同步。在群晖上可以用 <code>Synology Drive</code> 来实现多端同步，目前 fnOS 上暂时还没有官方的同步软件，推荐直接使用 <a href="https://syncthing.net/" target="_blank" rel="noreferrer">Syncthing</a> 来实现多端同步。</p><p>以我为例，我用 <a href="https://syncthing.net/" target="_blank" rel="noreferrer">Syncthing</a> 这款软件已经好多年了，用它来把电脑的截图同步到手机相册，电脑端直接截图保存，手机端直接访问相册就能发送。把电脑端的 Calibre 书库同步到 NAS 端的 <code>calibre-Web</code>，可以随时在想看某本书的时候，一键推送到 Kindle，把电脑的常用文档以及音乐库同步到 NAS 以及各个终端，即便在无网络的时候也能随时编辑文档，听喜欢的音乐。</p><p>相比 Synology Drive，Syncthing 利用 P2P 技术来传输文件，不需要设置内网穿透，只要添加好远程设备，即便不在一个局域网里也可以自动连接。但这有时候也是一个缺点，需要依靠发现服务器才能建立连接，而国内的发现服务器较少，所以连接起来有时候会比较慢。好在可以通过自建中继和发现服务器来解决这个问题。</p><p>下面我就来介绍如何使用 Syncthing。</p><h2 id="在-fnos-上安装-docker-版-syncthing" tabindex="-1">在 fnOS 上安装 Docker 版 Syncthing <a class="header-anchor" href="#在-fnos-上安装-docker-版-syncthing" aria-label="Permalink to &quot;在 fnOS 上安装 Docker 版 Syncthing&quot;">​</a></h2><p>按照下图所示建立文件夹，实际路径以你自己的为准，前后需要保持一致。比如这里实际保存位置都在 <code>存储空间 1 </code> 上面。</p><ul><li><code>/docker/syncthing</code>：用来存放 synchting 的 docker 配置</li><li><code>/document</code>：用来存放你的同步文档</li></ul><p><img src="https://img.slarker.me/wiki/07dff7385de64be4adf7e3c6dabb0792.png" alt=""></p><p>在 Docker 的镜像仓库中搜索 <code>syncthing</code>，下载 <code>linuxserver/syncthing</code> 这个镜像。</p><p><img src="https://img.slarker.me/wiki/6c0ccc456e1b4ab38de788a782af2541.png" alt=""></p><p>这里只需要修改文件夹映射，其它都保持默认。在存储位置中设置文件夹映射，这里容器中的 <code>/document</code> 你可以自己来决定文件夹名称。如果有多个文件夹需要同步，可以添加多个映射。</p><ul><li><code>/vol1/1000/docker/syncthing</code> -&gt; <code>/config</code></li><li><code>/vol1/1000/document</code> -&gt; <code>/document</code></li></ul><p>上面的 <code>-&gt;</code> 表示映射，<code>-&gt;</code> 左侧的属于 fnOS 主机的端口号或者路径，<code>-&gt;</code> 右侧的属于 Docker 容器内部的端口号或者路径。</p><p><img src="https://img.slarker.me/wiki/3cb8fd716db44970a944a7a2f0458076.png" alt=""></p><p>其它都保持默认，设置好之后点击完成就可以启动了。</p><p>默认的端口是 <code>8384</code>。你可以使用 <code>fnOS IP:8384</code> 来访问 Syncthing 的 WebUI。打开 Syncthing 之后，可以先设置密码，然后移除默认的文件夹（Default Folder）。</p><h2 id="客户端" tabindex="-1">客户端 <a class="header-anchor" href="#客户端" aria-label="Permalink to &quot;客户端&quot;">​</a></h2><p>Syncthing 支持 Windows（推荐使用 <a href="https://github.com/canton7/SyncTrayzor" target="_blank" rel="noreferrer">SyncTrayzor</a>），macOS，Linux，Android，可以到 <a href="https://syncthing.net/downloads/" target="_blank" rel="noreferrer">官网</a> 或者应用市场下载。</p><p>iOS 没有官方的 App，可以使用第三方开源的客户端 <a href="https://github.com/pixelspark/sushitrain" target="_blank" rel="noreferrer">Synctrain</a>。</p><h2 id="添加设备-id" tabindex="-1">添加设备 ID <a class="header-anchor" href="#添加设备-id" aria-label="Permalink to &quot;添加设备 ID&quot;">​</a></h2><p>每个设备安装 Syncthing 之后都会有一个唯一的 <code>设备 ID</code>，当前设备的 ID 在 <code>操作</code> -&gt; <code>显示 ID</code> 中可以看到。要想同步文件，需要先互相添加远程设备 ID，类似于添加好友。比如我在 fnOS 的 Syncthing 中添加 macOS 的设备 ID，<code>设备名</code> 可以自己起一个容易区分的名字。</p><p><img src="https://img.slarker.me/wiki/6fb3f253215147daa9e9e2d3d0097eb1.png" alt=""></p><p>添加之后，在 macOS 中也会有提示添加 <code>fnOS</code> 的设备 ID。添加完成之后，就会显示已连接（未使用）。</p><p><img src="https://img.slarker.me/wiki/ea7dc9f6c52e453d8ebf33a6283711d4.png" alt=""></p><h2 id="文件夹同步" tabindex="-1">文件夹同步 <a class="header-anchor" href="#文件夹同步" aria-label="Permalink to &quot;文件夹同步&quot;">​</a></h2><p>比如我想把 macOS 上的文件夹同步到 NAS 里，那就先在 macOS 的 Syncthing 中添加一个本地文件夹（比如 document，实际路径 <code>/Users/slark/document</code>），然后在这个文件夹中设置共享给 <code>fnOS</code> 这个设备。</p><p><img src="https://img.slarker.me/wiki/82d26c4957d5424fa74dc2296505b335.png" alt=""></p><p>保存后，在 fnOS 端就可以看到一个共享文件夹的请求：</p><p><img src="https://img.slarker.me/wiki/2a171e38b0f14435aa9ff090a3b69433.png" alt=""></p><p>点击添加，将文件夹路径设置为 Syncthing 容器中映射的 <code>/document</code>。</p><p><img src="https://img.slarker.me/wiki/2cab1ef8442e47eeaf9732c3540a405e.png" alt=""></p><p>设置好之后，点击保存，同步就会自动开始。fnOS 上的 <code>document</code> 会和 macOS 上的 <code>document</code> 保持实时同步。</p><p><img src="https://img.slarker.me/wiki/6b861902047d4375ba43a25f50cd03d9.png" alt=""></p><h2 id="版本控制" tabindex="-1">版本控制 <a class="header-anchor" href="#版本控制" aria-label="Permalink to &quot;版本控制&quot;">​</a></h2><p>除了基本的同步功能外，Syncthing 还支持文件版本控制，非常适合有版本管理需求的用户：</p><p><img src="https://img.slarker.me/wiki/8f084c49fc874d08a0fd8948cda7d645.png" alt=""></p><p>如果你想防止误删文件，可以在 NAS 上的 Syncthing 中将版本控制设置为 <code>回收站文件版本控制</code> 模式。</p><p><img src="https://img.slarker.me/wiki/a21412247d9f4f72b92e14795cdbb762.png" alt=""></p><p>当你在其他设备中（比如 macOS）删除文件时，NAS 端会将删除的文件移动到 <code>.stversions 目录</code>，在 fnOS 的文件管理器中可以直接看到 <code>.stversions</code> 目录中被删除的文件。</p><p><img src="https://img.slarker.me/wiki/5ef827b6117a4710a722045118f910d1.png" alt=""></p><p>如果你想恢复某个版本的文件，可以直接在 <code>历史版本</code> 中按具体时间恢复到某个版本。</p><p><img src="https://img.slarker.me/wiki/6ac81b4c08a345b98524e9bd0723b02f.png" alt=""></p><h2 id="其它特性" tabindex="-1">其它特性 <a class="header-anchor" href="#其它特性" aria-label="Permalink to &quot;其它特性&quot;">​</a></h2><p>此外，还可以设置文件夹类型（发送和接受，仅发送，仅接受），可以应对更多的场景。</p><p><img src="https://img.slarker.me/wiki/e3eedc00f0eb4f02bb34fa62f2c34e02.png" alt=""></p><p>比如，我只想给其他人共享文件，不想接受别人对文件的修改，就可以用 <code>仅发送</code> 模式。</p>',48)]))}const m=a(r,[["render",i]]);export{g as __pageData,m as default};
